import json
from homeassistant.const import CONF_LANGUAGE


# Domain
DOMAIN = "lambda_heatpumps"


# Manufacturer
MANUFACTURER = "Lambda W채rmepumpen GmbH"

# Configuration
CONF_MODBUS_HOST = "modbus_host"
CONF_MODBUS_PORT = "modbus_port"
CONF_SLAVE_ID = "slave_id"
CONF_MODEL = "model"
CONF_AMOUNT_OF_HEATPUMPS = "amount_of_heatpumps"
CONF_AMOUNT_OF_BOILERS = "amount_of_boilers"
CONF_AMOUNT_OF_BUFFERS = "amount_of_buffers"
CONF_AMOUNT_OF_SOLAR = "amount_of_solar"
CONF_AMOUNT_OF_HEAT_CIRCUITS = "amount_of_heat_circuits"

DEFAULT_PORT = 502
DEFAULT_SLAVE_ID = 1



# Register definitions
# Modules:
# - General Ambient => GA
# - General E-Manager => EM
# - Heat pump (ModulNr. 1-3)
# - Boiler (ModulNr. 1-5)
# - Buffer (ModulNr. 1-5)
# - Solar (ModulNr. 1-2)

REGISTER_ERROR_NUMBER = 0
REGISTER_OPERATING_STATE = 1
REGISTER_ACTUAL_AMBIENT_TEMP = 2
REGISTER_AVERAGE_AMBIENT_TEMP = 3
REGISTER_CALCULATED_AMBIENT_TEMP = 4

REGISTER_EMANAGER_ERROR_NUMBER = 100
REGISTER_HP1_VOL_SINK = 1006
REGISTER_COP = 1013


# General Ambient
GENERAL_AMBIENT_ERROR_NUMBER = 0
GENERAL_AMBIENT_OPERATING_STATE = 1
GENERAL_AMBIENT_ACTUAL_AMBIENT_TEMP = 2
GENERAL_AMBIENT_AVERAGE_AMBIENT_TEMP_1H = 3
GENERAL_AMBIENT_CALCULATED_AMBIENT_TEMP = 4

# General E-Manager
E_MANAGER_ERROR_NUMBER = 101
E_MANAGER_OPERATING_STATE = 102
E_MANAGER_ACTUAL_POWER_INPUT = 103
E_MANAGER_AVERAGE_POWER_CONSUMPTION = 104
E_MANAGER_CALCULATED_POWER_OUTPUT = 105

# Heatpump 1
HEATPUMP_1_ERROR_NUMBER = 1000
HEATPUMP_1_HP_STATE = 1001
HEATPUMP_1_ACTUAL_POWER_INPUT = 1002
HEATPUMP_1_FLOW_TEMP = 1003
HEATPUMP_1_RETURN_TEMP = 1004
HEATPUMP_1_COMPRESSOR_STATUS = 1005
HEATPUMP_1_ENERGY_OUTPUT = 1006
HEATPUMP_1_HEATING_POWER = 1050
HEATPUMP_1_COOLING_POWER = 1051
HEATPUMP_1_CIRCULATION_STATUS = 1052

# Heatpump 2
HEATPUMP_2_ERROR_NUMBER = 1100
HEATPUMP_2_HP_STATE = 1101
HEATPUMP_2_ACTUAL_POWER_INPUT = 1102
HEATPUMP_2_FLOW_TEMP = 1103
HEATPUMP_2_RETURN_TEMP = 1104
HEATPUMP_2_COMPRESSOR_STATUS = 1105
HEATPUMP_2_ENERGY_OUTPUT = 1106
HEATPUMP_2_HEATING_POWER = 1150
HEATPUMP_2_COOLING_POWER = 1151
HEATPUMP_2_CIRCULATION_STATUS = 1152

# Heatpump 3
HEATPUMP_3_ERROR_NUMBER = 1200
HEATPUMP_3_HP_STATE = 1201
HEATPUMP_3_ACTUAL_POWER_INPUT = 1202
HEATPUMP_3_FLOW_TEMP = 1203
HEATPUMP_3_RETURN_TEMP = 1204
HEATPUMP_3_COMPRESSOR_STATUS = 1205
HEATPUMP_3_ENERGY_OUTPUT = 1206
HEATPUMP_3_HEATING_POWER = 1250
HEATPUMP_3_COOLING_POWER = 1251
HEATPUMP_3_CIRCULATION_STATUS = 1252

# Boiler 1
BOILER_1_ERROR_NUMBER = 2000
BOILER_1_OPERATING_STATE = 2001
BOILER_1_HIGH_TEMP = 2002
BOILER_1_LOW_TEMP = 2003
BOILER_1_MAX_BOILER_TEMP = 2050

# Boiler 2
BOILER_2_ERROR_NUMBER = 2100
BOILER_2_OPERATING_STATE = 2101
BOILER_2_HIGH_TEMP = 2102
BOILER_2_LOW_TEMP = 2103
BOILER_2_MAX_BOILER_TEMP = 2150

# Boiler 3
BOILER_3_ERROR_NUMBER = 2200
BOILER_3_OPERATING_STATE = 2201
BOILER_3_HIGH_TEMP = 2202
BOILER_3_LOW_TEMP = 2203
BOILER_3_MAX_BOILER_TEMP = 2250

# Boiler 4
BOILER_4_ERROR_NUMBER = 2300
BOILER_4_OPERATING_STATE = 2301
BOILER_4_HIGH_TEMP = 2302
BOILER_4_LOW_TEMP = 2303
BOILER_4_MAX_BOILER_TEMP = 2350

# Boiler 5
BOILER_5_ERROR_NUMBER = 2400
BOILER_5_OPERATING_STATE = 2401
BOILER_5_HIGH_TEMP = 2402
BOILER_5_LOW_TEMP = 2403
BOILER_5_MAX_BOILER_TEMP = 2450

# Buffer 1
BUFFER_1_ERROR_NUMBER = 3000
BUFFER_1_OPERATING_STATE = 3001
BUFFER_1_HIGH_TEMP = 3002
BUFFER_1_LOW_TEMP = 3003
BUFFER_1_MAX_BUFFER_TEMP = 3050

# Buffer 2
BUFFER_2_ERROR_NUMBER = 3100
BUFFER_2_OPERATING_STATE = 3101
BUFFER_2_HIGH_TEMP = 3102
BUFFER_2_LOW_TEMP = 3103
BUFFER_2_MAX_BUFFER_TEMP = 3150

# Buffer 3
BUFFER_3_ERROR_NUMBER = 3200
BUFFER_3_OPERATING_STATE = 3201
BUFFER_3_HIGH_TEMP = 3202
BUFFER_3_LOW_TEMP = 3203
BUFFER_3_MAX_BUFFER_TEMP = 3250

# Buffer 4
BUFFER_4_ERROR_NUMBER = 3300
BUFFER_4_OPERATING_STATE = 3301
BUFFER_4_HIGH_TEMP = 3302
BUFFER_4_LOW_TEMP = 3303
BUFFER_4_MAX_BUFFER_TEMP = 3350

# Buffer 5
BUFFER_5_ERROR_NUMBER = 3400
BUFFER_5_OPERATING_STATE = 3401
BUFFER_5_HIGH_TEMP = 3402
BUFFER_5_LOW_TEMP = 3403
BUFFER_5_MAX_BUFFER_TEMP = 3450

# Solar 1
SOLAR_1_ERROR_NUMBER = 4001
SOLAR_1_OPERATING_STATE = 4002
SOLAR_1_COLLECTOR_TEMP = 4003
SOLAR_1_BUFFER_1_TEMP = 4004
SOLAR_1_BUFFER_2_TEMP = 4005
SOLAR_1_MAX_BUFFER_TEMP = 4050
SOLAR_1_BUFFER_CHANGEOVER_TEMP = 4051

# Solar 2
SOLAR_2_ERROR_NUMBER = 4101
SOLAR_2_OPERATING_STATE = 4102
SOLAR_2_COLLECTOR_TEMP = 4103
SOLAR_2_BUFFER_1_TEMP = 4104
SOLAR_2_BUFFER_2_TEMP = 4105
SOLAR_2_MAX_BUFFER_TEMP = 4150
SOLAR_2_BUFFER_CHANGEOVER_TEMP = 4151

# Heating Circuit 1
HEATING_CIRCUIT_1_ERROR_NUMBER = 5000
HEATING_CIRCUIT_1_OPERATING_STATE = 5001
HEATING_CIRCUIT_1_FLOW_TEMP = 5002
HEATING_CIRCUIT_1_RETURN_TEMP = 5003
HEATING_CIRCUIT_1_SETPOINT_FLOW_TEMP = 5004
HEATING_CIRCUIT_1_SETPOINT_RETURN_TEMP = 5005
HEATING_CIRCUIT_1_PUMP_STATUS = 5006
HEATING_CIRCUIT_1_HEATING_POWER = 5050
HEATING_CIRCUIT_1_COOLING_POWER = 5051
HEATING_CIRCUIT_1_CIRCULATION_STATUS = 5052

# Heating Circuit 2
HEATING_CIRCUIT_2_ERROR_NUMBER = 5100
HEATING_CIRCUIT_2_OPERATING_STATE = 5101
HEATING_CIRCUIT_2_FLOW_TEMP = 5102
HEATING_CIRCUIT_2_RETURN_TEMP = 5103
HEATING_CIRCUIT_2_SETPOINT_FLOW_TEMP = 5104
HEATING_CIRCUIT_2_SETPOINT_RETURN_TEMP = 5105
HEATING_CIRCUIT_2_PUMP_STATUS = 5106
HEATING_CIRCUIT_2_HEATING_POWER = 5150
HEATING_CIRCUIT_2_COOLING_POWER = 5151
HEATING_CIRCUIT_2_CIRCULATION_STATUS = 5152

# Heating Circuit 3
HEATING_CIRCUIT_3_ERROR_NUMBER = 5200
HEATING_CIRCUIT_3_OPERATING_STATE = 5201
HEATING_CIRCUIT_3_FLOW_TEMP = 5202
HEATING_CIRCUIT_3_RETURN_TEMP = 5203
HEATING_CIRCUIT_3_SETPOINT_FLOW_TEMP = 5204
HEATING_CIRCUIT_3_SETPOINT_RETURN_TEMP = 5205
HEATING_CIRCUIT_3_PUMP_STATUS = 5206
HEATING_CIRCUIT_3_HEATING_POWER = 5250
HEATING_CIRCUIT_3_COOLING_POWER = 5251
HEATING_CIRCUIT_3_CIRCULATION_STATUS = 5252

# Heating Circuit 4
HEATING_CIRCUIT_4_ERROR_NUMBER = 5300
HEATING_CIRCUIT_4_OPERATING_STATE = 5301
HEATING_CIRCUIT_4_FLOW_TEMP = 5302
HEATING_CIRCUIT_4_RETURN_TEMP = 5303
HEATING_CIRCUIT_4_SETPOINT_FLOW_TEMP = 5304
HEATING_CIRCUIT_4_SETPOINT_RETURN_TEMP = 5305
HEATING_CIRCUIT_4_PUMP_STATUS = 5306
HEATING_CIRCUIT_4_HEATING_POWER = 5350
HEATING_CIRCUIT_4_COOLING_POWER = 5351
HEATING_CIRCUIT_4_CIRCULATION_STATUS = 5352

# Heating Circuit 5
HEATING_CIRCUIT_5_ERROR_NUMBER = 5400
HEATING_CIRCUIT_5_OPERATING_STATE = 5401
HEATING_CIRCUIT_5_FLOW_TEMP = 5402
HEATING_CIRCUIT_5_RETURN_TEMP = 5403
HEATING_CIRCUIT_5_SETPOINT_FLOW_TEMP = 5404
HEATING_CIRCUIT_5_SETPOINT_RETURN_TEMP = 5405
HEATING_CIRCUIT_5_PUMP_STATUS = 5406
HEATING_CIRCUIT_5_HEATING_POWER = 5450
HEATING_CIRCUIT_5_COOLING_POWER = 5451
HEATING_CIRCUIT_5_CIRCULATION_STATUS = 5452
HEATING_CIRCUIT_6_ERROR_NUMBER = 5500

# Heating Circuit 6
HEATING_CIRCUIT_6_OPERATING_STATE = 5501
HEATING_CIRCUIT_6_FLOW_TEMP = 5502
HEATING_CIRCUIT_6_RETURN_TEMP = 5503
HEATING_CIRCUIT_6_SETPOINT_FLOW_TEMP = 5504
HEATING_CIRCUIT_6_SETPOINT_RETURN_TEMP = 5505
HEATING_CIRCUIT_6_PUMP_STATUS = 5506
HEATING_CIRCUIT_6_HEATING_POWER = 5550
HEATING_CIRCUIT_6_COOLING_POWER = 5551
HEATING_CIRCUIT_6_CIRCULATION_STATUS = 5552

# Heating Circuit 7
HEATING_CIRCUIT_7_ERROR_NUMBER = 5600
HEATING_CIRCUIT_7_OPERATING_STATE = 5601
HEATING_CIRCUIT_7_FLOW_TEMP = 5602
HEATING_CIRCUIT_7_RETURN_TEMP = 5603
HEATING_CIRCUIT_7_SETPOINT_FLOW_TEMP = 5604
HEATING_CIRCUIT_7_SETPOINT_RETURN_TEMP = 5605
HEATING_CIRCUIT_7_PUMP_STATUS = 5606
HEATING_CIRCUIT_7_HEATING_POWER = 5650
HEATING_CIRCUIT_7_COOLING_POWER = 5651
HEATING_CIRCUIT_7_CIRCULATION_STATUS = 5652

# Heating Circuit 8
HEATING_CIRCUIT_8_ERROR_NUMBER = 5700
HEATING_CIRCUIT_8_OPERATING_STATE = 5701
HEATING_CIRCUIT_8_FLOW_TEMP = 5702
HEATING_CIRCUIT_8_RETURN_TEMP = 5703
HEATING_CIRCUIT_8_SETPOINT_FLOW_TEMP = 5704
HEATING_CIRCUIT_8_SETPOINT_RETURN_TEMP = 5705
HEATING_CIRCUIT_8_PUMP_STATUS = 5706
HEATING_CIRCUIT_8_HEATING_POWER = 5750
HEATING_CIRCUIT_8_COOLING_POWER = 5751
HEATING_CIRCUIT_8_CIRCULATION_STATUS = 5752

# Heating Circuit 9
HEATING_CIRCUIT_9_ERROR_NUMBER = 5800
HEATING_CIRCUIT_9_OPERATING_STATE = 5801
HEATING_CIRCUIT_9_FLOW_TEMP = 5802
HEATING_CIRCUIT_9_RETURN_TEMP = 5803
HEATING_CIRCUIT_9_SETPOINT_FLOW_TEMP = 5804
HEATING_CIRCUIT_9_SETPOINT_RETURN_TEMP = 5805
HEATING_CIRCUIT_9_PUMP_STATUS = 5806
HEATING_CIRCUIT_9_HEATING_POWER = 5850
HEATING_CIRCUIT_9_COOLING_POWER = 5851
HEATING_CIRCUIT_9_CIRCULATION_STATUS = 5852

# Heating Circuit 10
HEATING_CIRCUIT_10_ERROR_NUMBER = 5900
HEATING_CIRCUIT_10_OPERATING_STATE = 5901
HEATING_CIRCUIT_10_FLOW_TEMP = 5902
HEATING_CIRCUIT_10_RETURN_TEMP = 5903
HEATING_CIRCUIT_10_SETPOINT_FLOW_TEMP = 5904
HEATING_CIRCUIT_10_SETPOINT_RETURN_TEMP = 5905
HEATING_CIRCUIT_10_PUMP_STATUS = 5906
HEATING_CIRCUIT_10_HEATING_POWER = 5950
HEATING_CIRCUIT_10_COOLING_POWER = 5951
HEATING_CIRCUIT_10_CIRCULATION_STATUS = 5952

# Heating Circuit 11
HEATING_CIRCUIT_11_ERROR_NUMBER = 51000
HEATING_CIRCUIT_11_OPERATING_STATE = 51001
HEATING_CIRCUIT_11_FLOW_TEMP = 51002
HEATING_CIRCUIT_11_RETURN_TEMP = 51003
HEATING_CIRCUIT_11_SETPOINT_FLOW_TEMP = 51004
HEATING_CIRCUIT_11_SETPOINT_RETURN_TEMP = 51005
HEATING_CIRCUIT_11_PUMP_STATUS = 51006
HEATING_CIRCUIT_11_HEATING_POWER = 51050
HEATING_CIRCUIT_11_COOLING_POWER = 51051
HEATING_CIRCUIT_11_CIRCULATION_STATUS = 51052

# Heating Circuit 12
HEATING_CIRCUIT_12_ERROR_NUMBER = 51100
HEATING_CIRCUIT_12_OPERATING_STATE = 51101
HEATING_CIRCUIT_12_FLOW_TEMP = 51102
HEATING_CIRCUIT_12_RETURN_TEMP = 51103
HEATING_CIRCUIT_12_SETPOINT_FLOW_TEMP = 51104
HEATING_CIRCUIT_12_SETPOINT_RETURN_TEMP = 51105
HEATING_CIRCUIT_12_PUMP_STATUS = 51106
HEATING_CIRCUIT_12_HEATING_POWER = 51150
HEATING_CIRCUIT_12_COOLING_POWER = 51151
HEATING_CIRCUIT_12_CIRCULATION_STATUS = 51152



async def async_get_translation(hass, key, language="en"):
    translations = await async_get_translations(hass, language, DOMAIN)
    return translations.get(key, key)


def get_operating_states(language="en"):
    # Beispielhafte Zust채nde, diese sollten entsprechend der tats채chlichen Zust채nde angepasst werden
    states = {
        0: "OFF",
        1: "AUTOMATIC",
        2: "MANUAL",
        3: "ERROR"
    }
    return states